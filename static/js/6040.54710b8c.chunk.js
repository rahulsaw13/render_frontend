"use strict";(self.webpackChunksystem_based_template=self.webpackChunksystem_based_template||[]).push([[6040],{6040:(e,r,n)=>{n.r(r),n.d(r,{default:()=>g});var l=n(5043),o=n(8136),a=n(7659),t=n(8931),i=n(1713),d=n(8640),s=n(9501),u=n(2301),c=n(899),m=n(7808),p=n(1892),v=n(1080),f=n(3216),h=n(4117),x=n(579);const b={name:"",email:"",password:"",confirmPassword:"",phoneNumber:"",gender:"",image:""},g=()=>{const e=(0,l.useRef)(null),{t:r}=(0,h.Bd)("msg"),[n,g]=(0,l.useState)(""),[y,_]=(0,l.useState)(!1),[j,w]=(0,l.useState)(b),N=(0,f.Zp)(),{id:O}=(0,f.g)(),P=c.Ik().shape({name:c.Yj().required(r("name_is_required")),gender:c.Yj().required(r("gender_is_required")),phoneNumber:c.Yj().required(r("phone_number_is_required")),email:c.Yj().email(r("please_enter_valid_email")).required(r("email_is_required")),password:O?c.Yj():c.Yj().min(6,r("please_enter_password_more_then_6_characters")).max(20,r("please_enter_password_less_then_20_characters")).required(r("password_is_required")),confirmPassword:O?c.Yj():c.Yj().min(6,r("please_enter_password_more_then_6_characters")).max(20,r("please_enter_password_less_then_20_characters")).required(r("confirm_password_is_required")).oneOf([c.KR("password")],r("confirm_password_and_new_password_should_be_same"))}),C=n=>{let l={email:null===n||void 0===n?void 0:n.email,password:null===n||void 0===n?void 0:n.password,name:null===n||void 0===n?void 0:n.name,role_id:1,image:null===n||void 0===n?void 0:n.image,gender:null===n||void 0===n?void 0:n.gender,phone_number:null===n||void 0===n?void 0:n.phoneNumber};_(!0),(0,t.i)("users",l,"post","multipart/form-data").then((n=>{var l;200===(null===n||void 0===n?void 0:n.status)&&(g("success"),e.current.show({severity:"success",summary:r("success"),detail:null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message,life:1e3}))})).catch((n=>{var l,o;e.current.show({severity:"error",summary:r("error"),detail:null===n||void 0===n||null===(l=n.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.errors,life:3e3})})).finally((()=>{_(!1)}))},S=r=>{_(!0);let n={email:null===r||void 0===r?void 0:r.email,name:null===r||void 0===r?void 0:r.name,role_id:1,gender:null===r||void 0===r?void 0:r.gender,phone_number:null===r||void 0===r?void 0:r.phoneNumber};null!==r&&void 0!==r&&r.image&&(n.image=null===r||void 0===r?void 0:r.image),(0,t.i)("".concat(u.J.COMMON_USERS_URL,"/").concat(O),n,"put","multipart/form-data").then((e=>{200===e.status&&N(s.D.USERS)})).catch((r=>{var n,l;e.current.show({severity:"error",summary:"Error",detail:null===r||void 0===r||null===(n=r.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.errors,life:3e3}),_(!1)}))},k=(0,m.Wx)({initialValues:j,onSubmit:e=>{O?S(e):C(e)},validationSchema:P,enableReinitialize:!0,validateOnBlur:!0});(0,l.useEffect)((()=>{(async()=>{_(!0);try{O&&(0,t.i)("".concat(u.J.COMMON_USERS_URL,"/").concat(O),"","get").then((e=>{if(200===e.status){var r,n,l,o,a;let t={name:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.name,gender:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.gender,image_url:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.image_url,phoneNumber:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.phone_number,email:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.email};w(t)}})).catch((r=>{var n,l;e.current.show({severity:"error",summary:"Error",detail:null===r||void 0===r||null===(n=r.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.errors,life:3e3})}))}catch(r){e.current.show({severity:"error",summary:"Error",detail:"Something Went Wrong",life:3e3})}finally{_(!1)}})()}),[O]);const{values:E,errors:R,handleSubmit:q,setFieldValue:D,handleChange:F,touched:B}=k;return(0,x.jsxs)("div",{className:"flex h-screen text-TextPrimaryColor bg-BgPrimaryColor py-5 overflow-y-scroll",children:[y&&(0,x.jsx)(i.A,{}),(0,x.jsx)(v.y,{ref:e,position:"top-right",style:{scale:"0.7"},onHide:()=>{"success"===n&&N(s.D.USERS)}}),(0,x.jsxs)("div",{className:"mx-16 my-auto grid h-fit w-full grid-cols-4 gap-4 bg-BgSecondaryColor p-8 border rounded border-BorderColor",children:[(0,x.jsx)("div",{className:"col-span-4 font-[600]",children:r(O?"update_user":"create_user")}),(0,x.jsxs)("div",{className:"col-span-4",children:[(0,x.jsx)(d.A,{value:null===E||void 0===E?void 0:E.image_url,name:"image",isProfile:!0,isLabel:r("profile_image"),onChange:e=>{var r,n;D("image",null===e||void 0===e||null===(r=e.currentTarget)||void 0===r?void 0:r.files[0]),D("image_url",URL.createObjectURL(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.files[0]))}}),(0,x.jsx)("label",{htmlFor:"file",className:"error text-red-500",children:null===R||void 0===R?void 0:R.file})]}),(0,x.jsx)("div",{className:"col-span-4 md:col-span-2",children:(0,x.jsx)(a.A,{value:null===E||void 0===E?void 0:E.name,onChange:F,type:"text",isLabel:!0,placeholder:r("name"),name:"name",error:null===R||void 0===R?void 0:R.name,touched:null===B||void 0===B?void 0:B.name,className:"w-full rounded border-[1px] border-[#ddd] px-[1rem] py-[8px] text-[11px] focus:outline-none"})}),(0,x.jsx)("div",{className:"col-span-4 md:col-span-2",children:(0,x.jsx)(a.A,{value:null===E||void 0===E?void 0:E.email,onChange:F,type:"email",isLabel:!0,placeholder:r("email"),name:"email",error:null===R||void 0===R?void 0:R.email,touched:null===B||void 0===B?void 0:B.email,className:"w-full rounded border-[1px] border-[#ddd] px-[1rem] py-[8px] text-[11px] focus:outline-none"})}),O?null:(0,x.jsx)("div",{className:"col-span-4 md:col-span-2",children:(0,x.jsx)(a.A,{value:null===E||void 0===E?void 0:E.password,onChange:F,type:"password",isLabel:!0,placeholder:r("password"),name:"password",error:null===R||void 0===R?void 0:R.password,touched:null===B||void 0===B?void 0:B.password,className:"w-full rounded border-[1px] border-[#ddd] px-[1rem] py-[8px] text-[11px] focus:outline-none"})}),O?null:(0,x.jsx)("div",{className:"col-span-4 md:col-span-2",children:(0,x.jsx)(a.A,{value:null===E||void 0===E?void 0:E.confirmPassword,onChange:F,type:"password",isLabel:!0,placeholder:r("confirm_password"),name:"confirmPassword",error:null===R||void 0===R?void 0:R.confirmPassword,touched:null===B||void 0===B?void 0:B.confirmPassword,className:"w-full rounded border-[1px] border-[#ddd] px-[1rem] py-[8px] text-[11px] focus:outline-none"})}),(0,x.jsx)("div",{className:"col-span-4 md:col-span-2",children:(0,x.jsx)(a.A,{value:null===E||void 0===E?void 0:E.phoneNumber,onChange:F,type:"text",isLabel:!0,placeholder:r("phone_number"),name:"phoneNumber",error:null===R||void 0===R?void 0:R.phoneNumber,touched:null===B||void 0===B?void 0:B.phoneNumber,className:"w-full rounded border-[1px] border-[#ddd] px-[1rem] py-[8px] text-[11px] focus:outline-none"})}),(0,x.jsxs)("div",{className:"col-span-4 md:col-span-2",children:[(0,x.jsx)("label",{className:"text-[12px] text-TextSecondaryColor ms-[4px] font-[600]",children:r("gender")}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-3 mt-2",children:[(0,x.jsxs)("div",{className:"flex align-items-center",children:[(0,x.jsx)(p.a,{name:"gender",value:"Male",onChange:e=>D("gender",e.value),checked:"Male"===E.gender}),(0,x.jsx)("label",{className:"ml-2 font-[600] text-[12px]",children:"Male"})]}),(0,x.jsxs)("div",{className:"flex align-items-center",children:[(0,x.jsx)(p.a,{name:"gender",value:"Female",onChange:e=>D("gender",e.value),checked:"Female"===E.gender}),(0,x.jsx)("label",{className:"ml-2 font-[600] text-[12px]",children:"Female"})]}),(0,x.jsxs)("div",{className:"flex align-items-center",children:[(0,x.jsx)(p.a,{name:"gender",value:"Other",onChange:e=>D("gender",e.value),checked:"Other"===E.gender}),(0,x.jsx)("label",{className:"ml-2 font-[600] text-[12px]",children:"Other"})]})]}),null!==R&&void 0!==R&&R.gender&&null!==B&&void 0!==B&&B.gender?(0,x.jsx)("p",{className:"text-[0.7rem] text-red-600",children:null===R||void 0===R?void 0:R.gender}):""]}),(0,x.jsx)("div",{className:"col-span-3"}),(0,x.jsxs)("div",{className:"mt-4 flex justify-end gap-4",children:[(0,x.jsx)(o.A,{onClick:()=>{N(s.D.USERS)},type:"button",label:r("back"),className:"rounded bg-TextPrimaryColor px-6 py-2 text-[12px] text-white"}),(0,x.jsx)(o.A,{onClick:()=>q(),type:"submit",label:r(O?"update":"submit"),className:"rounded bg-TextPrimaryColor px-6 py-2 text-[12px] text-white"})]})]})]})}},1892:(e,r,n)=>{n.d(r,{a:()=>f});var l=n(5043),o=n(4052),a=n(1828),t=n(2028),i=n(1356),d=n(4504);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},s.apply(this,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e){var r=function(e,r){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,r||"default");if("object"!==u(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===u(r)?r:String(r)}var m={root:function(e){var r=e.props,n=e.context;return(0,d.xW)("p-radiobutton p-component",{"p-highlight":r.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?"filled"===r.variant:n&&"filled"===n.inputStyle})},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},p=a.x.extend({defaultProps:{__TYPE:"RadioButton",autoFocus:!1,checked:!1,className:null,disabled:!1,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onClick:null,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:m}});function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,l)}return n}var f=l.memo(l.forwardRef((function(e,r){var n=(0,t.qV)(),u=l.useContext(o.UM),m=p.getProps(e,u),f=l.useRef(null),h=l.useRef(m.inputRef),x=p.setMetaData({props:m}),b=x.ptm,g=x.cx,y=x.isUnstyled;(0,a.j)(p.css.styles,y,{name:"radiobutton"});var _=function(e){j(e)},j=function(e){if(!m.disabled&&!m.readonly&&m.onChange){var r=m.checked,n=e.target instanceof HTMLDivElement,l=e.target===h.current&&e.target.checked!==r,o=n&&d.DV.hasClass(f.current,"p-radiobutton-checked")===r&&!r,a=!r,t={originalEvent:e,value:m.value,checked:a,stopPropagation:function(){null===e||void 0===e||e.stopPropagation()},preventDefault:function(){null===e||void 0===e||e.preventDefault()},target:{type:"radio",name:m.name,id:m.id,value:m.value,checked:a}};if(l||o){var i;if(null===m||void 0===m||null===(i=m.onChange)||void 0===i||i.call(m,t),e.defaultPrevented)return;o&&(h.current.checked=a)}d.DV.focus(h.current)}},w=function(e){var r;null===m||void 0===m||null===(r=m.onFocus)||void 0===r||r.call(m,e)},N=function(e){var r;null===m||void 0===m||null===(r=m.onBlur)||void 0===r||r.call(m,e)};l.useImperativeHandle(r,(function(){return{props:m,select:_,focus:function(){return d.DV.focus(h.current)},getElement:function(){return f.current},getInput:function(){return h.current}}})),l.useEffect((function(){h.current&&(h.current.checked=m.checked)}),[m.checked]),l.useEffect((function(){d.BF.combinedRefs(h,m.inputRef)}),[h,m.inputRef]),(0,t.uU)((function(){m.autoFocus&&d.DV.focus(h.current,m.autoFocus)}));var O=d.BF.isNotEmpty(m.tooltip),P=p.getOtherProps(m),C=n({id:m.id,className:(0,d.xW)(m.className,g("root",{context:u})),style:m.style,"data-p-checked":m.checked},p.getOtherProps(m),b("root"));return l.createElement(l.Fragment,null,l.createElement("div",s({ref:f},C),function(){var e=d.BF.reduceKeys(P,d.DV.ARIA_PROPS),r=n(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){var l,o,a;l=e,o=r,a=n[r],(o=c(o))in l?Object.defineProperty(l,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({id:m.inputId,type:"radio",name:m.name,defaultChecked:m.checked,onFocus:w,onBlur:N,onChange:j,disabled:m.disabled,readOnly:m.readonly,required:m.required,tabIndex:m.tabIndex,className:g("input")},e),b("input"));return l.createElement("input",s({ref:h},r))}(),function(){var e=n({className:g("box")},b("box")),r=n({className:g("icon")},b("icon"));return l.createElement("div",e,l.createElement("div",r))}()),O&&l.createElement(i.m,s({target:f,content:m.tooltip,pt:b("tooltip")},m.tooltipOptions)))})));f.displayName="RadioButton"}}]);
//# sourceMappingURL=6040.54710b8c.chunk.js.map